import{F as v,u as X,_ as z}from"./FilterDateRange.vue_vue_type_script_setup_true_lang-BDspQkpz.js";import{d as D,c as H,g as F,o as R,b as s,n as O,A as g,t as T,D as j,k as f,a as E,w as i,u as e,e as o,H as M,I as L,x as U,y as Q,z as Y,f as G}from"./index-3UqB6pC0.js";import{_ as w}from"./BaseButton.vue_vue_type_script_setup_true_lang-AhAezQYJ.js";import{b as x,_ as J,a as A}from"./FormFilterLabel.vue_vue_type_script_setup_true_lang-DJ11E4Dr.js";import{_ as K}from"./CAmount.vue_vue_type_script_setup_true_lang-07tyWWBy.js";import{_ as W}from"./CRequisites.vue_vue_type_script_setup_true_lang-C2G9wBkZ.js";import{u as Z,_ as d,r as m}from"./useForm-s4jVX_tv.js";import{_ as ee}from"./BaseModal.vue_vue_type_script_setup_true_lang-B5D8scP1.js";const le={class:"flex flex-col items-center"},te={class:"h-3 rounded-lg w-[150px] border border-primary overflow-hidden"},ae={class:"text-sm font-medium text-dark-black"},oe={class:"text-sm font-medium text-gray-1"},re=D({__name:"CLimitIndicator",props:{current:{default:0},limit:{default:0}},setup(u){const y=u,t=H(()=>Math.round(y.current/y.limit*100));return(h,c)=>(R(),F("div",le,[s("div",te,[s("div",{style:O(`width: ${t.value}%`),class:"h-full bg-primary"},null,4)]),s("div",null,[s("span",ae,T(h.current),1),c[0]||(c[0]=g(" / ")),s("span",oe,T(h.limit),1)])]))}}),ne={class:"grid grid-cols-2 gap-5"},ie={class:"flex gap-4 mt-5 w-full"},ue=D({__name:"AddRequisiteForm",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(u){const y=j(u,"modelValue"),t=Z({device_id:"",bank:"",name:"",card_number:"",phone_number:"",account_number:"",min_check:"",max_check:"",orders_count:"",payment_method:""},{device_id:{required:m},bank:{required:m},name:{required:m},card_number:{required:m},phone_number:{required:m},account_number:{required:m},min_check:{required:m},max_check:{required:m},orders_count:{required:m},payment_method:{required:m}}),h=()=>{t.$v.value.$touch()},c=f([{label:"Сбербанк",value:"sber"},{label:"Тинкофф",value:"tinkoff"},{label:"Альфабанк",value:"alfa"}]),S=f([{label:"TPay",value:"tpay"},{label:"PayPal",value:"paypal"},{label:"YandexMoney",value:"yandex"}]);return(n,a)=>{const V=L("maska");return R(),E(e(ee),{wrpClass:"min-w-[600px]",title:n.$t("add_requisite"),modelValue:y.value,"onUpdate:modelValue":a[12]||(a[12]=r=>y.value=r)},{default:i(()=>[s("div",ne,[o(e(d),{label:n.$t("add_requisite_modal.device_id")},{default:i(()=>[o(e(v),{modelValue:e(t).values.device_id,"onUpdate:modelValue":a[0]||(a[0]=r=>e(t).values.device_id=r),placeholder:n.$t("add_requisite_modal.placeholder_device_id"),error:e(t).$v.value.device_id.$error},null,8,["modelValue","placeholder","error"])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.bank")},{default:i(()=>[o(e(x),{"label-key":"label","value-key":"value",placeholder:n.$t("banks.choose_bank"),modelValue:e(t).values.bank,"onUpdate:modelValue":a[1]||(a[1]=r=>e(t).values.bank=r),options:c.value,error:e(t).$v.value.bank.$error,onOnSelect:a[2]||(a[2]=r=>e(t).values.bank=r)},null,8,["placeholder","modelValue","options","error"])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.name")},{default:i(()=>[o(e(v),{modelValue:e(t).values.name,"onUpdate:modelValue":a[3]||(a[3]=r=>e(t).values.name=r),placeholder:n.$t("add_requisite_modal.placeholder_name"),error:e(t).$v.value.name.$error},null,8,["modelValue","placeholder","error"])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.card_number")},{default:i(()=>[M(o(e(v),{modelValue:e(t).values.card_number,"onUpdate:modelValue":a[4]||(a[4]=r=>e(t).values.card_number=r),placeholder:n.$t("add_requisite_modal.placeholder_card_number"),error:e(t).$v.value.card_number.$error},null,8,["modelValue","placeholder","error"]),[[V,"#### #### #### ####"]])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.phone_number")},{default:i(()=>[M(o(e(v),{modelValue:e(t).values.phone_number,"onUpdate:modelValue":a[5]||(a[5]=r=>e(t).values.phone_number=r),placeholder:n.$t("add_requisite_modal.placeholder_phone_number"),error:e(t).$v.value.phone_number.$error},null,8,["modelValue","placeholder","error"]),[[V,"+#################"]])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.account_number")},{default:i(()=>[o(e(v),{type:"number",modelValue:e(t).values.account_number,"onUpdate:modelValue":a[6]||(a[6]=r=>e(t).values.account_number=r),placeholder:n.$t("add_requisite_modal.placeholder_account_number"),error:e(t).$v.value.account_number.$error},null,8,["modelValue","placeholder","error"])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.min_check")},{default:i(()=>[o(e(v),{type:"number",modelValue:e(t).values.min_check,"onUpdate:modelValue":a[7]||(a[7]=r=>e(t).values.min_check=r),placeholder:n.$t("add_requisite_modal.placeholder_min_check"),error:e(t).$v.value.min_check.$error},{suffix:i(()=>a[13]||(a[13]=[g(" ₽ ")])),_:1},8,["modelValue","placeholder","error"])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.max_check")},{default:i(()=>[o(e(v),{type:"number",modelValue:e(t).values.max_check,"onUpdate:modelValue":a[8]||(a[8]=r=>e(t).values.max_check=r),placeholder:n.$t("add_requisite_modal.placeholder_max_check"),error:e(t).$v.value.max_check.$error},{suffix:i(()=>a[14]||(a[14]=[g(" ₽ ")])),_:1},8,["modelValue","placeholder","error"])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.orders_count")},{default:i(()=>[o(e(v),{type:"number",modelValue:e(t).values.orders_count,"onUpdate:modelValue":a[9]||(a[9]=r=>e(t).values.orders_count=r),placeholder:n.$t("add_requisite_modal.placeholder_orders_count"),error:e(t).$v.value.orders_count.$error},null,8,["modelValue","placeholder","error"])]),_:1},8,["label"]),o(e(d),{label:n.$t("add_requisite_modal.payment_method")},{default:i(()=>[o(e(x),{modelValue:e(t).values.payment_method,"onUpdate:modelValue":a[10]||(a[10]=r=>e(t).values.payment_method=r),error:e(t).$v.value.payment_method.$error,"label-key":"label","value-key":"value",placeholder:n.$t("add_requisite_modal.placeholder_payment_method"),options:S.value,onOnSelect:a[11]||(a[11]=r=>e(t).values.payment_method=r)},null,8,["modelValue","error","placeholder","options"])]),_:1},8,["label"])]),s("div",ie,[o(e(w),{text:n.$t("rejecting.cancel"),variant:"neutral",class:"flex-1"},null,8,["text"]),o(e(w),{onClick:h,text:n.$t("add_requisite"),class:"flex-1"},null,8,["text"])])]),_:1},8,["title","modelValue"])}}}),se=()=>{const{t:u}=U();return[{id:1,name:u("conditions.all"),key:"all"},{id:2,name:u("conditions.activate"),key:"success"},{id:3,name:u("conditions.deactivate"),key:"canceled"},{id:4,name:u("conditions.test"),key:"pending"}]},de=()=>{const{t:u}=U();return[{title:"№",key:"_index"},{title:"ID",key:"id",hasSort:!0},{title:u("requisites.requisites"),key:"requisites",hasSort:!0},{title:u("requisites.balance"),key:"balance",hasSort:!0},{title:u("requisites.bank_method"),key:"bank_method",hasSort:!0},{title:u("requisites.indicator"),key:"indicator",hasSort:!0},{title:u("requisites.actions"),key:"actions",hasSort:!0}]},me=()=>{const{t:u}=U();return{noData:{title:u("transactions_not_found"),subtitle:u("transactions_not_found_try_again_later"),image:"/images/no-data/transactions.png"},thClass:"last:!text-left"}},ce={class:"bg-white px-6 rounded-xl"},_e={class:"flex items-center gap-1"},pe={class:"text-sm font-medium text-dark-black"},be={class:"w-full flex items-start"},ve={class:"flex gap-5"},fe=D({__name:"PRequisites",setup(u){const{t:y}=U(),t=X("status",y("conditions.all")),h=f(!1),c=f(!1),S=()=>{c.value=!0},n=f([{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},bank:"Сбербанк",requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"test",limit:{current:678e3,limit:1e6}},{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},bank:"Сбербанк",requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"deactivate",limit:{current:678e3,limit:1e6}},{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},bank:"Сбербанк",requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"activate",limit:{current:678e3,limit:1e6}}]),a=f({total:n.value.length}),V=f(!1),r=f({});function N(_){V.value=!0,r.value=_}return(_,k)=>(R(),F("section",null,[s("div",ce,[o(e(J),Q({data:n.value,head:e(de)(),hasAddButton:{title:_.$t("add_requisite")},onAdd:S,loading:h.value,title:_.$t("requisites.title"),subtitle:_.$t("requisites.count",{count:a.value.total}),total:a.value.total,filter:{status:e(t)}},e(me)(),{onClickToRow:N}),{id:i(({data:l})=>[s("div",_e,[s("span",pe,[g(T(l==null?void 0:l.id)+" ",1),k[2]||(k[2]=s("i",{class:"icon-copy text-primary font-semibold"},null,-1))])])]),balance:i(({data:l})=>{var p,b,$,q,P,B,C,I;return[o(e(K),{amount:(p=l==null?void 0:l.amount)==null?void 0:p.amount,currency:(b=l==null?void 0:l.amount)==null?void 0:b.currency,crypto:{amount:(P=(q=($=l==null?void 0:l.amount)==null?void 0:$.crypto)==null?void 0:q.USDT)==null?void 0:P.amount,currency:(I=(C=(B=l==null?void 0:l.amount)==null?void 0:B.crypto)==null?void 0:C.USDT)==null?void 0:I.currency}},null,8,["amount","currency","crypto"])]}),bank_method:i(({data:l})=>[s("span",null,T(l==null?void 0:l.bank),1)]),requisites:i(({data:l})=>{var p,b,$,q;return[o(e(W),{number:(p=l==null?void 0:l.requisite)==null?void 0:p.number,name:(b=l==null?void 0:l.requisite)==null?void 0:b.name,bank:($=l==null?void 0:l.requisite)==null?void 0:$.bank,payment_method:(q=l==null?void 0:l.requisite)==null?void 0:q.payment_method},null,8,["number","name","bank","payment_method"])]}),indicator:i(({data:l})=>{var p,b;return[s("div",be,[o(e(re),{limit:(p=l==null?void 0:l.limit)==null?void 0:p.limit,current:(b=l==null?void 0:l.limit)==null?void 0:b.current},null,8,["limit","current"])])]}),actions:i(({data:l})=>[o(e(w),{class:"min-w-[200px]",variant:l==null?void 0:l.status,text:_.$t("conditions."+(l==null?void 0:l.status))},null,8,["variant","text"])]),filter:i(()=>[s("div",ve,[o(A,{label:_.$t("filter.condition")},{default:i(()=>[o(e(x),{modelValue:e(t),"onUpdate:modelValue":k[0]||(k[0]=l=>Y(t)?t.value=l:null),options:e(se)(),"value-key":"key","option-styles":"hover:bg-gray-6","selected-option-styles":"border-none rounded-lg bg-white",class:"min-w-64"},null,8,["modelValue","options"])]),_:1},8,["label"]),o(A,{label:_.$t("interval_of_time")},{default:i(()=>[o(z,{class:"bg-white","start-date-key":"created_at__gte","end-date-key":"created_at__lte"})]),_:1},8,["label"])])]),_:1},16,["data","head","hasAddButton","loading","title","subtitle","total","filter"]),o(ue,{modelValue:c.value,"onUpdate:modelValue":k[1]||(k[1]=l=>c.value=l)},null,8,["modelValue"])])]))}}),Ue=G(fe,[["__scopeId","data-v-c858fe86"]]);export{Ue as default};
