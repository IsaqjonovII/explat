import{u as z,_ as E}from"./FilterDateRange.vue_vue_type_script_setup_true_lang-C9lB155C.js";import{K as P,B as L,d as S,C as O,x as w,D as N,k as y,g as b,o as v,b as n,E as k,i as K,u as o,A as B,t as h,c as Z,e as a,a as I,v as X,G,w as d,y as H,f as Q}from"./index-OMPnK3Hn.js";import{_ as W}from"./CAmount.vue_vue_type_script_setup_true_lang-DdeKx-BM.js";import{_ as J}from"./CDevice.vue_vue_type_script_setup_true_lang-BSbL-AID.js";import{_ as Y}from"./CRequisites.vue_vue_type_script_setup_true_lang-Cn_T7sMd.js";import{u as ee,_ as te,a as oe}from"./FormFilterLabel.vue_vue_type_script_setup_true_lang-NZVJrfr6.js";import{_ as ne}from"./DateTime.vue_vue_type_script_setup_true_lang-D87CLkS4.js";import{_ as D}from"./BaseButton.vue_vue_type_script_setup_true_lang-AkyJ-CQX.js";import{u as re,_ as M,r as A}from"./useForm-BmXB_lQk.js";import{F as se}from"./FormInput-Bry2dbbz.js";import{_ as ae}from"./BaseModal.vue_vue_type_script_setup_true_lang-C4BV6GgV.js";const F=()=>({showToast:(l,g)=>{const p="toast-id--"+Math.random().toString(36).substr(2,9);return P.custom(L(he),{id:p,componentProps:{title:l,type:g,id:p}}),p},dismissToast:l=>{P.dismiss(l)}}),ie={class:"h-60 w-full"},le={class:"rounded-lg h-full w-full group"},ue=["src"],ce=["for"],me={class:"font-medium mt-5 mb-2 text-dark group-hover:text-blue transition-300"},de={class:"text-xs leading-4 text-gray-1 font-medium"},pe=["id"],_e=S({__name:"BaseImageUploader",props:O({id:{},error:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const{showToast:f}=F(),{t:l}=w(),{isOpen:g,toggle:p}=ee(),m=N(i,"modelValue"),r=y("");function s(e){const t=e.target.files;t&&t[0]&&u(t[0])}function u(e){if(!e.type.startsWith("image/")){f(l("toast.invalid_file_type"),"error");return}if(e.size>31457280){f(l("toast.max_size_error"),"error");return}r.value=URL.createObjectURL(e),m.value=e}function j(){m.value=null,r.value=""}function U(){p()}function _(e){e.preventDefault()}function T(e){var c;e.preventDefault();const t=(c=e.dataTransfer)==null?void 0:c.files;t&&t[0]&&u(t[0])}return(e,t)=>(v(),b("div",ie,[(v(),b("div",{key:m.value,class:"w-full h-full bg-white rounded-xl"},[r.value?(v(),b("div",{key:0,class:"relative rounded-lg h-full w-full",draggable:"true",onDragstart:U,onDragover:k(_,["prevent"]),onDrop:k(T,["prevent"])},[n("div",le,[n("div",{class:"cursor-pointer absolute z-10 top-3 right-3 size-10 rounded-md bg-dark/40 backdrop-blur border border-white/30 flex-center",onClick:j},t[2]||(t[2]=[n("span",{class:"icon-trash text-white text-xl"},null,-1)])),n("img",{src:r.value,alt:"image",class:"rounded-lg h-full w-full relative z-[1] object-center object-cover aspect-square"},null,8,ue)])],32)):(v(),b("label",{key:1,class:K([{"border-blue":o(g),"!border-red":e.error},"h-full w-full text-center bg-stone-1 rounded-lg p-6 max-sm:p-1 border-grey-2 border flex justify-center items-center flex-col cursor-pointer transition-300 hover:border-dashed hover:border-blue hover:bg-[#2088FF14] group"]),for:e.id||"image-uploader-input",onDragover:t[0]||(t[0]=k((...c)=>e.onDragOver&&e.onDragOver(...c),["prevent"])),onDragleave:t[1]||(t[1]=k((...c)=>e.onDragLeave&&e.onDragLeave(...c),["prevent"])),onDrop:k(T,["prevent"])},[n("span",me,[t[3]||(t[3]=n("i",{class:"icon-photo-plus group-hover:text-blue text-xl align-middle text-gray-1"},null,-1)),B(" "+h(e.$t("form.upload.add_photo")),1)]),n("p",de,h(e.$t("form.upload.max_size_photo")),1)],42,ce)),n("input",{id:e.id||"image-uploader-input",ref:"input",accept:"image/*",class:"file hidden",type:"file",onChange:s},null,40,pe)]))]))}}),fe={class:"flex-center-between bg-white-1 border border-gray-7 rounded-lg backdrop-blur min-w-[355px]"},ge={class:"flex-y-center pl-3 py-2 mr-5"},ve=["alt","src"],ye={class:"ml-2"},be={class:"text-primary font-normal text-xs leading-130"},he=S({__name:"BaseToast",props:{type:{},title:{},id:{}},setup(i){const f=i,{dismissToast:l}=F(),g=Z(()=>({success:"/svg/toast/success.svg",error:"/svg/toast/error.svg",warning:"/svg/toast/warning.svg",info:"/svg/toast/info.svg"}));function p(){l(f.id)}return(m,r)=>(v(),b("div",fe,[n("div",ge,[n("img",{alt:m.type,src:g.value[m.type]},null,8,ve),n("div",ye,[n("h2",be,h(m.title),1)])]),n("span",{class:"icon-x-mark mr-3 my-4 text-lg text-gray hover:text-red cursor-pointer transition-300",onClick:p})]))}}),Te=()=>{const{t:i}=w();return[{title:"№",key:"_index"},{title:"ID",key:"id",hasSort:!0},{title:i("appeals.amount"),key:"amount",hasSort:!0},{title:i("appeals.device"),key:"device",hasSort:!0},{title:i("appeals.payment_method"),key:"payment_method",hasSort:!0},{title:i("appeals.date"),key:"date",hasSort:!0},{title:i("appeals.actions"),key:"actions",hasSort:!0}]},$e=()=>{const{t:i}=w();return{noData:{title:i("transactions_not_found"),subtitle:i("transactions_not_found_try_again_later"),image:"/images/no-data/transactions.png"},thClass:"last:!text-left"}},xe={class:"flex items-center gap-2"},ke={class:"flex gap-1 flex-col items-start"},De={class:"hover:bg-gray-100 p-1 rounded-[3px] w-full text-left"},Se={class:"hover:bg-gray-100 p-1 rounded-[3px] w-full text-left"},we={class:"flex gap-2"},je=S({__name:"CAction",props:{approve:{},reject:{}},emits:["approve","reject"],setup(i,{emit:f}){const l=re({reject_reason:"",file:""},{reject_reason:{required:A},file:{required:A}}),g=f,p=y(!1),m=y(!1);return(r,s)=>(v(),b("div",xe,[a(o(G),{modelValue:p.value,"onUpdate:modelValue":[s[0]||(s[0]=u=>p.value=u),s[1]||(s[1]=u=>g("approve"))]},{trigger:d(()=>[r.approve?(v(),I(o(D),{key:0,class:"!px-2 min-w-[150px] !py-1.5 !text-sm !text-white !bg-green !rounded-lg",text:r.approve},null,8,["text"])):X("",!0)]),body:d(()=>[n("div",ke,[n("button",De,h(r.$t("part")),1),n("button",Se,h(r.$t("reject1")),1)])]),_:1},8,["modelValue"]),r.reject?(v(),I(o(D),{key:0,onClick:s[2]||(s[2]=u=>m.value=!0),class:"!px-2 min-w-[150px] !py-1.5 !text-sm !text-white !bg-red-light !rounded-lg",text:r.reject},null,8,["text"])):X("",!0),a(o(ae),{title:r.$t("reject_info"),modelValue:m.value,"onUpdate:modelValue":s[6]||(s[6]=u=>m.value=u)},{default:d(()=>[a(o(M),{label:r.$t("rejecting.title")},{default:d(()=>[a(o(se),{modelValue:o(l).values.reject_reason,"onUpdate:modelValue":s[3]||(s[3]=u=>o(l).values.reject_reason=u),placeholder:r.$t("rejecting.title_text")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(o(M),{label:r.$t("rejecting.file")},{default:d(()=>[a(o(_e),{id:"reject-file",modelValue:o(l).values.file,"onUpdate:modelValue":s[4]||(s[4]=u=>o(l).values.file=u)},null,8,["modelValue"])]),_:1},8,["label"]),n("div",we,[a(o(D),{onClick:s[5]||(s[5]=u=>m.value=!1),text:r.$t("rejecting.cancel"),variant:"neutral",class:"flex-1"},null,8,["text"]),a(o(D),{text:r.$t("rejecting.reject"),variant:"danger",class:"flex-1"},null,8,["text"])])]),_:1},8,["title","modelValue"])]))}}),Ue={class:"bg-white px-6 rounded-xl"},Ve={class:"flex items-center gap-1"},qe={class:"text-sm font-medium text-dark-black"},Re={class:"flex gap-5"},Ce=S({__name:"PAppeals",setup(i){const{t:f}=w(),l=z("status",f("statuses.all_statuses")),g=y(!1),p=()=>{console.log("asd")},m=_=>{console.log(_)},r=y([{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"success"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"pending"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"canceled"},{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"success"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"pending"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"canceled"},{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"success"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"pending"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"canceled"}]),s=y({total:r.value.length}),u=y(!1),j=y({});function U(_){u.value=!0,j.value=_}return(_,T)=>(v(),b("section",null,[n("div",Ue,[a(o(te),H({data:r.value,head:o(Te)(),loading:g.value,title:_.$t("appeals.title"),subtitle:_.$t("appeals.count",{count:s.value.total}),total:s.value.total,filter:{status:o(l)}},o($e)(),{onClickToRow:U}),{id:d(({data:e})=>[n("div",Ve,[n("span",qe,[B(h(e==null?void 0:e.id)+" ",1),T[0]||(T[0]=n("i",{class:"icon-copy text-primary font-semibold"},null,-1))])])]),amount:d(({data:e})=>{var t,c,$,x,V,q,R,C;return[a(o(W),{amount:(t=e==null?void 0:e.amount)==null?void 0:t.amount,currency:(c=e==null?void 0:e.amount)==null?void 0:c.currency,crypto:{amount:(V=(x=($=e==null?void 0:e.amount)==null?void 0:$.crypto)==null?void 0:x.USDT)==null?void 0:V.amount,currency:(C=(R=(q=e==null?void 0:e.amount)==null?void 0:q.crypto)==null?void 0:R.USDT)==null?void 0:C.currency}},null,8,["amount","currency","crypto"])]}),device:d(({data:e})=>{var t,c;return[a(o(J),{title:(t=e==null?void 0:e.device)==null?void 0:t.title,id:(c=e==null?void 0:e.device)==null?void 0:c.id},null,8,["title","id"])]}),payment_method:d(({data:e})=>{var t,c,$,x;return[a(o(Y),{number:(t=e==null?void 0:e.requisite)==null?void 0:t.number,name:(c=e==null?void 0:e.requisite)==null?void 0:c.name,bank:($=e==null?void 0:e.requisite)==null?void 0:$.bank,payment_method:(x=e==null?void 0:e.requisite)==null?void 0:x.payment_method},null,8,["number","name","bank","payment_method"])]}),actions:d(({data:e})=>[a(je,{approve:_.$t("approve"),reject:_.$t("reject"),onApprove:t=>p(e),onReject:t=>m(e)},null,8,["approve","reject","onApprove","onReject"])]),date:d(({data:e})=>[a(ne,{date:e==null?void 0:e.created_at,time:e==null?void 0:e.created_at},null,8,["date","time"])]),filter:d(()=>[n("div",Re,[a(oe,{label:_.$t("interval_of_time")},{default:d(()=>[a(E,{class:"bg-white","start-date-key":"created_at__gte","end-date-key":"created_at__lte"})]),_:1},8,["label"])])]),_:1},16,["data","head","loading","title","subtitle","total","filter"])])]))}}),Ne=Q(Ce,[["__scopeId","data-v-d4cebe4c"]]);export{Ne as default};
