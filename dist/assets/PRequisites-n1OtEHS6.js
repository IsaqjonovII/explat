import{u as e,_ as a}from"./FilterDateRange.vue_vue_type_script_setup_true_lang-eWI-paCh.js";import{d as l,c as t,g as r,o as u,b as o,n as d,A as n,t as i,C as s,k as m,a as c,w as _,u as v,e as p,H as b,I as h,x as y,y as f,z as k,f as q}from"./index-WxT9CGhK.js";import{_ as $}from"./BaseButton.vue_vue_type_script_setup_true_lang-2OYisnk0.js";import{a as x,B as V,_ as g}from"./FormFilterLabel.vue_vue_type_script_setup_true_lang-BW394oxl.js";import{_ as U}from"./CAmount.vue_vue_type_script_setup_true_lang-BSsPx3Ov.js";import{_ as T}from"./CRequisites.vue_vue_type_script_setup_true_lang-zZpr4--d.js";import{u as S,_ as w,r as D}from"./useForm-reXaOZRt.js";import{F as j}from"./FormInput-BWmykW5Y.js";import{_ as C}from"./BaseModal.vue_vue_type_script_setup_true_lang-CRKxBwXe.js";const R={class:"flex flex-col items-center"},B={class:"h-3 rounded-lg w-[150px] border border-primary overflow-hidden"},F={class:"text-sm font-medium text-dark-black"},P={class:"text-sm font-medium text-gray-1"},A=l({__name:"CLimitIndicator",props:{current:{default:0},limit:{default:0}},setup(e){const a=e,l=t(()=>Math.round(a.current/a.limit*100));return(a,t)=>(u(),r("div",R,[o("div",B,[o("div",{style:d(`width: ${l.value}%`),class:"h-full bg-primary"},null,4)]),o("div",null,[o("span",F,i(e.current),1),t[0]||(t[0]=n(" / ",-1)),o("span",P,i(e.limit),1)])]))}}),I={class:"grid grid-cols-2 gap-5"},M={class:"flex gap-4 mt-5 w-full"},X=l({__name:"AddRequisiteForm",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const a=s(e,"modelValue"),l=S({device_id:"",bank:"",name:"",card_number:"",phone_number:"",account_number:"",min_check:"",max_check:"",orders_count:"",payment_method:""},{device_id:{required:D},bank:{required:D},name:{required:D},card_number:{required:D},phone_number:{required:D},account_number:{required:D},min_check:{required:D},max_check:{required:D},orders_count:{required:D},payment_method:{required:D}}),t=()=>{l.$v.value.$touch()},r=m([{label:"Сбербанк",value:"sber"},{label:"Тинкофф",value:"tinkoff"},{label:"Альфабанк",value:"alfa"}]),d=m([{label:"TPay",value:"tpay"},{label:"PayPal",value:"paypal"},{label:"YandexMoney",value:"yandex"}]);return(e,i)=>{const s=h("maska");return u(),c(v(C),{wrpClass:"min-w-[600px]",title:e.$t("add_requisite"),modelValue:a.value,"onUpdate:modelValue":i[12]||(i[12]=e=>a.value=e)},{default:_(()=>[o("div",I,[p(v(w),{label:e.$t("add_requisite_modal.device_id")},{default:_(()=>[p(v(j),{modelValue:v(l).values.device_id,"onUpdate:modelValue":i[0]||(i[0]=e=>v(l).values.device_id=e),placeholder:e.$t("add_requisite_modal.placeholder_device_id"),error:v(l).$v.value.device_id.$error},null,8,["modelValue","placeholder","error"])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.bank")},{default:_(()=>[p(v(x),{"label-key":"label","value-key":"value",placeholder:e.$t("banks.choose_bank"),modelValue:v(l).values.bank,"onUpdate:modelValue":i[1]||(i[1]=e=>v(l).values.bank=e),options:r.value,error:v(l).$v.value.bank.$error,onOnSelect:i[2]||(i[2]=e=>v(l).values.bank=e)},null,8,["placeholder","modelValue","options","error"])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.name")},{default:_(()=>[p(v(j),{modelValue:v(l).values.name,"onUpdate:modelValue":i[3]||(i[3]=e=>v(l).values.name=e),placeholder:e.$t("add_requisite_modal.placeholder_name"),error:v(l).$v.value.name.$error},null,8,["modelValue","placeholder","error"])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.card_number")},{default:_(()=>[b(p(v(j),{modelValue:v(l).values.card_number,"onUpdate:modelValue":i[4]||(i[4]=e=>v(l).values.card_number=e),placeholder:e.$t("add_requisite_modal.placeholder_card_number"),error:v(l).$v.value.card_number.$error},null,8,["modelValue","placeholder","error"]),[[s,"#### #### #### ####"]])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.phone_number")},{default:_(()=>[b(p(v(j),{modelValue:v(l).values.phone_number,"onUpdate:modelValue":i[5]||(i[5]=e=>v(l).values.phone_number=e),placeholder:e.$t("add_requisite_modal.placeholder_phone_number"),error:v(l).$v.value.phone_number.$error},null,8,["modelValue","placeholder","error"]),[[s,"+#################"]])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.account_number")},{default:_(()=>[p(v(j),{type:"number",modelValue:v(l).values.account_number,"onUpdate:modelValue":i[6]||(i[6]=e=>v(l).values.account_number=e),placeholder:e.$t("add_requisite_modal.placeholder_account_number"),error:v(l).$v.value.account_number.$error},null,8,["modelValue","placeholder","error"])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.min_check")},{default:_(()=>[p(v(j),{type:"number",modelValue:v(l).values.min_check,"onUpdate:modelValue":i[7]||(i[7]=e=>v(l).values.min_check=e),placeholder:e.$t("add_requisite_modal.placeholder_min_check"),error:v(l).$v.value.min_check.$error},{suffix:_(()=>[...i[13]||(i[13]=[n(" ₽ ",-1)])]),_:1},8,["modelValue","placeholder","error"])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.max_check")},{default:_(()=>[p(v(j),{type:"number",modelValue:v(l).values.max_check,"onUpdate:modelValue":i[8]||(i[8]=e=>v(l).values.max_check=e),placeholder:e.$t("add_requisite_modal.placeholder_max_check"),error:v(l).$v.value.max_check.$error},{suffix:_(()=>[...i[14]||(i[14]=[n(" ₽ ",-1)])]),_:1},8,["modelValue","placeholder","error"])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.orders_count")},{default:_(()=>[p(v(j),{type:"number",modelValue:v(l).values.orders_count,"onUpdate:modelValue":i[9]||(i[9]=e=>v(l).values.orders_count=e),placeholder:e.$t("add_requisite_modal.placeholder_orders_count"),error:v(l).$v.value.orders_count.$error},null,8,["modelValue","placeholder","error"])]),_:1},8,["label"]),p(v(w),{label:e.$t("add_requisite_modal.payment_method")},{default:_(()=>[p(v(x),{modelValue:v(l).values.payment_method,"onUpdate:modelValue":i[10]||(i[10]=e=>v(l).values.payment_method=e),error:v(l).$v.value.payment_method.$error,"label-key":"label","value-key":"value",placeholder:e.$t("add_requisite_modal.placeholder_payment_method"),options:d.value,onOnSelect:i[11]||(i[11]=e=>v(l).values.payment_method=e)},null,8,["modelValue","error","placeholder","options"])]),_:1},8,["label"])]),o("div",M,[p(v($),{text:e.$t("rejecting.cancel"),variant:"neutral",class:"flex-1"},null,8,["text"]),p(v($),{onClick:t,text:e.$t("add_requisite"),class:"flex-1"},null,8,["text"])])]),_:1},8,["title","modelValue"])}}}),L=()=>{const{t:e}=y();return[{id:1,name:e("conditions.all"),key:"all"},{id:2,name:e("conditions.activate"),key:"success"},{id:3,name:e("conditions.deactivate"),key:"canceled"},{id:4,name:e("conditions.test"),key:"pending"}]},O=()=>{const{t:e}=y();return[{title:"№",key:"_index"},{title:"ID",key:"id",hasSort:!0},{title:e("requisites.requisites"),key:"requisites",hasSort:!0},{title:e("requisites.balance"),key:"balance",hasSort:!0},{title:e("requisites.bank_method"),key:"bank_method",hasSort:!0},{title:e("requisites.indicator"),key:"indicator",hasSort:!0},{title:e("requisites.actions"),key:"actions",hasSort:!0}]},z=()=>{const{t:e}=y();return{noData:{title:e("transactions_not_found"),subtitle:e("transactions_not_found_try_again_later"),image:"/images/no-data/transactions.png"},thClass:"last:!text-left"}},H={class:"bg-white px-6 rounded-xl"},Y={class:"flex items-center gap-1"},E={class:"text-sm font-medium text-dark-black"},G={class:"w-full flex items-start"},J={class:"flex gap-5"},K=q(l({__name:"PRequisites",setup(l){const{t:t}=y(),d=e("status",t("conditions.all")),s=m(!1),c=m(!1),b=()=>{c.value=!0},h=m([{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},bank:"Сбербанк",requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"test",limit:{current:678e3,limit:1e6}},{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},bank:"Сбербанк",requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"deactivate",limit:{current:678e3,limit:1e6}},{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},bank:"Сбербанк",requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"activate",limit:{current:678e3,limit:1e6}}]),q=m({total:h.value.length}),S=m(!1),w=m({});function D(e){S.value=!0,w.value=e}return(e,l)=>(u(),r("section",null,[o("div",H,[p(v(V),f({data:h.value,head:v(O)(),hasAddButton:{title:e.$t("add_requisite")},onAdd:b,loading:s.value,title:e.$t("requisites.title"),subtitle:e.$t("requisites.count",{count:q.value.total}),total:q.value.total,filter:{status:v(d)}},v(z)(),{onClickToRow:D}),{id:_(({data:e})=>[o("div",Y,[o("span",E,[n(i(null==e?void 0:e.id)+" ",1),l[2]||(l[2]=o("i",{class:"icon-copy text-primary font-semibold"},null,-1))])])]),balance:_(({data:e})=>{var a,l,t,r,u,o,d,n;return[p(v(U),{amount:null==(a=null==e?void 0:e.amount)?void 0:a.amount,currency:null==(l=null==e?void 0:e.amount)?void 0:l.currency,crypto:{amount:null==(u=null==(r=null==(t=null==e?void 0:e.amount)?void 0:t.crypto)?void 0:r.USDT)?void 0:u.amount,currency:null==(n=null==(d=null==(o=null==e?void 0:e.amount)?void 0:o.crypto)?void 0:d.USDT)?void 0:n.currency}},null,8,["amount","currency","crypto"])]}),bank_method:_(({data:e})=>[o("span",null,i(null==e?void 0:e.bank),1)]),requisites:_(({data:e})=>{var a,l,t,r;return[p(v(T),{number:null==(a=null==e?void 0:e.requisite)?void 0:a.number,name:null==(l=null==e?void 0:e.requisite)?void 0:l.name,bank:null==(t=null==e?void 0:e.requisite)?void 0:t.bank,payment_method:null==(r=null==e?void 0:e.requisite)?void 0:r.payment_method},null,8,["number","name","bank","payment_method"])]}),indicator:_(({data:e})=>{var a,l;return[o("div",G,[p(v(A),{limit:null==(a=null==e?void 0:e.limit)?void 0:a.limit,current:null==(l=null==e?void 0:e.limit)?void 0:l.current},null,8,["limit","current"])])]}),actions:_(({data:a})=>[p(v($),{class:"min-w-[200px]",variant:null==a?void 0:a.status,text:e.$t("conditions."+(null==a?void 0:a.status))},null,8,["variant","text"])]),filter:_(()=>[o("div",J,[p(g,{label:e.$t("filter.condition")},{default:_(()=>[p(v(x),{modelValue:v(d),"onUpdate:modelValue":l[0]||(l[0]=e=>k(d)?d.value=e:null),options:v(L)(),"value-key":"key","option-styles":"hover:bg-gray-6","selected-option-styles":"border-none rounded-lg bg-white",class:"min-w-64"},null,8,["modelValue","options"])]),_:1},8,["label"]),p(g,{label:e.$t("interval_of_time")},{default:_(()=>[p(a,{class:"bg-white","start-date-key":"created_at__gte","end-date-key":"created_at__lte"})]),_:1},8,["label"])])]),_:1},16,["data","head","hasAddButton","loading","title","subtitle","total","filter"]),p(X,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e)},null,8,["modelValue"])])]))}}),[["__scopeId","data-v-32c05610"]]);export{K as default};
