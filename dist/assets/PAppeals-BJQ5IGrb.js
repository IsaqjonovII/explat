import{u as e,_ as t}from"./FilterDateRange.vue_vue_type_script_setup_true_lang-C_1K-rXA.js";import{d as a,B as l,x as r,C as n,k as o,g as u,o as i,b as s,D as d,i as c,u as m,A as p,t as v,E as _,e as f,a as y,v as g,G as b,w as x,y as h,f as T}from"./index-BAoS1bkF.js";import{_ as j}from"./CAmount.vue_vue_type_script_setup_true_lang-B0xekWcR.js";import{_ as D}from"./CDevice.vue_vue_type_script_setup_true_lang-pP83_NQI.js";import{_ as k}from"./CRequisites.vue_vue_type_script_setup_true_lang-C5SCwD3B.js";import{u as U,B as S,_ as w}from"./FormFilterLabel.vue_vue_type_script_setup_true_lang-CeBXkYTV.js";import{_ as q}from"./DateTime.vue_vue_type_script_setup_true_lang-BXupYibB.js";import{_ as R}from"./BaseButton.vue_vue_type_script_setup_true_lang-DdWExcrG.js";import{u as V,_ as $,r as C}from"./useForm-DcrCmJsm.js";import{F as P}from"./FormInput-CzZleLEu.js";import{_ as X}from"./BaseModal.vue_vue_type_script_setup_true_lang-_99Gpcew.js";const F={class:"h-60 w-full"},B={class:"rounded-lg h-full w-full group"},z=["src"],A=["for"],L={class:"font-medium mt-5 mb-2 text-dark group-hover:text-blue transition-300"},I={class:"text-xs leading-4 text-gray-1 font-medium"},O=["id"],M=a({__name:"BaseImageUploader",props:l({id:{},error:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{showToast:t}=_(),{t:a}=r(),{isOpen:l,toggle:f}=U(),y=n(e,"modelValue"),g=o("");function b(e){const t=e.target.files;t&&t[0]&&x(t[0])}function x(e){e.type.startsWith("image/")?e.size>31457280?t(a("toast.max_size_error"),"error"):(g.value=URL.createObjectURL(e),y.value=e):t(a("toast.invalid_file_type"),"error")}function h(){y.value=null,g.value=""}function T(){f()}function j(e){e.preventDefault()}function D(e){var t;e.preventDefault();const a=null==(t=e.dataTransfer)?void 0:t.files;a&&a[0]&&x(a[0])}return(t,a)=>(i(),u("div",F,[(i(),u("div",{key:y.value,class:"w-full h-full bg-white rounded-xl"},[g.value?(i(),u("div",{key:0,class:"relative rounded-lg h-full w-full",draggable:"true",onDragstart:T,onDragover:d(j,["prevent"]),onDrop:d(D,["prevent"])},[s("div",B,[s("div",{class:"cursor-pointer absolute z-10 top-3 right-3 size-10 rounded-md bg-dark/40 backdrop-blur border border-white/30 flex-center",onClick:h},[...a[2]||(a[2]=[s("span",{class:"icon-trash text-white text-xl"},null,-1)])]),s("img",{src:g.value,alt:"image",class:"rounded-lg h-full w-full relative z-[1] object-center object-cover aspect-square"},null,8,z)])],32)):(i(),u("label",{key:1,class:c([{"border-blue":m(l),"!border-red":e.error},"h-full w-full text-center bg-stone-1 rounded-lg p-6 max-sm:p-1 border-grey-2 border flex justify-center items-center flex-col cursor-pointer transition-300 hover:border-dashed hover:border-blue hover:bg-[#2088FF14] group"]),for:e.id||"image-uploader-input",onDragover:a[0]||(a[0]=d((...e)=>t.onDragOver&&t.onDragOver(...e),["prevent"])),onDragleave:a[1]||(a[1]=d((...e)=>t.onDragLeave&&t.onDragLeave(...e),["prevent"])),onDrop:d(D,["prevent"])},[s("span",L,[a[3]||(a[3]=s("i",{class:"icon-photo-plus group-hover:text-blue text-xl align-middle text-gray-1"},null,-1)),p(" "+v(t.$t("form.upload.add_photo")),1)]),s("p",I,v(t.$t("form.upload.max_size_photo")),1)],42,A)),s("input",{id:e.id||"image-uploader-input",ref:"input",accept:"image/*",class:"file hidden",type:"file",onChange:b},null,40,O)]))]))}}),E=()=>{const{t:e}=r();return[{title:"№",key:"_index"},{title:"ID",key:"id",hasSort:!0},{title:e("appeals.amount"),key:"amount",hasSort:!0},{title:e("appeals.device"),key:"device",hasSort:!0},{title:e("appeals.payment_method"),key:"payment_method",hasSort:!0},{title:e("appeals.date"),key:"date",hasSort:!0},{title:e("appeals.actions"),key:"actions",hasSort:!0}]},G=()=>{const{t:e}=r();return{noData:{title:e("transactions_not_found"),subtitle:e("transactions_not_found_try_again_later"),image:"/images/no-data/transactions.png"},thClass:"last:!text-left"}},W={class:"flex items-center gap-2"},H={class:"flex gap-1 flex-col items-start"},J={class:"hover:bg-gray-100 p-1 rounded-[3px] w-full text-left"},K={class:"hover:bg-gray-100 p-1 rounded-[3px] w-full text-left"},N={class:"flex gap-2"},Q=a({__name:"CAction",props:{approve:{},reject:{}},emits:["approve","reject"],setup(e,{emit:t}){const a=V({reject_reason:"",file:""},{reject_reason:{required:C},file:{required:C}}),l=t,r=o(!1),n=o(!1);return(t,o)=>(i(),u("div",W,[f(m(b),{modelValue:r.value,"onUpdate:modelValue":[o[0]||(o[0]=e=>r.value=e),o[1]||(o[1]=e=>l("approve"))]},{trigger:x(()=>[e.approve?(i(),y(m(R),{key:0,class:"!px-2 min-w-[150px] !py-1.5 !text-sm !text-white !bg-green !rounded-lg",text:e.approve},null,8,["text"])):g("",!0)]),body:x(()=>[s("div",H,[s("button",J,v(t.$t("part")),1),s("button",K,v(t.$t("reject1")),1)])]),_:1},8,["modelValue"]),e.reject?(i(),y(m(R),{key:0,onClick:o[2]||(o[2]=e=>n.value=!0),class:"!px-2 min-w-[150px] !py-1.5 !text-sm !text-white !bg-red-light !rounded-lg",text:e.reject},null,8,["text"])):g("",!0),f(m(X),{title:t.$t("reject_info"),modelValue:n.value,"onUpdate:modelValue":o[6]||(o[6]=e=>n.value=e)},{default:x(()=>[f(m($),{label:t.$t("rejecting.title")},{default:x(()=>[f(m(P),{modelValue:m(a).values.reject_reason,"onUpdate:modelValue":o[3]||(o[3]=e=>m(a).values.reject_reason=e),placeholder:t.$t("rejecting.title_text")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),f(m($),{label:t.$t("rejecting.file")},{default:x(()=>[f(m(M),{id:"reject-file",modelValue:m(a).values.file,"onUpdate:modelValue":o[4]||(o[4]=e=>m(a).values.file=e)},null,8,["modelValue"])]),_:1},8,["label"]),s("div",N,[f(m(R),{onClick:o[5]||(o[5]=e=>n.value=!1),text:t.$t("rejecting.cancel"),variant:"neutral",class:"flex-1"},null,8,["text"]),f(m(R),{text:t.$t("rejecting.reject"),variant:"danger",class:"flex-1"},null,8,["text"])])]),_:1},8,["title","modelValue"])]))}}),Y={class:"bg-white px-6 rounded-xl"},Z={class:"flex items-center gap-1"},ee={class:"text-sm font-medium text-dark-black"},te={class:"flex gap-5"},ae=T(a({__name:"PAppeals",setup(a){const{t:l}=r(),n=e("status",l("statuses.all_statuses")),d=o(!1),c=o([{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"success"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"pending"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"canceled"},{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"success"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"pending"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"canceled"},{id:37351,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"success"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"pending"},{id:37352,amount:{currency:"₽",amount:8600,crypto:{USDT:{amount:76,currency:"USDT"}}},requisite:{number:0x4626dbf9a01f2,name:"Х.Алмамедов",bank:"Сбербанк",payment_method:"TPay"},device:{id:24133,title:"Xiaomi Redmi"},created_at:"2025-07-17T10:30:00",end_at:"2025-07-17T10:30:00",status:"canceled"}]),_=o({total:c.value.length}),y=o(!1),g=o({});function b(e){y.value=!0,g.value=e}return(e,a)=>(i(),u("section",null,[s("div",Y,[f(m(S),h({data:c.value,head:m(E)(),loading:d.value,title:e.$t("appeals.title"),subtitle:e.$t("appeals.count",{count:_.value.total}),total:_.value.total,filter:{status:m(n)}},m(G)(),{onClickToRow:b}),{id:x(({data:e})=>[s("div",Z,[s("span",ee,[p(v(null==e?void 0:e.id)+" ",1),a[0]||(a[0]=s("i",{class:"icon-copy text-primary font-semibold"},null,-1))])])]),amount:x(({data:e})=>{var t,a,l,r,n,o,u,i;return[f(m(j),{amount:null==(t=null==e?void 0:e.amount)?void 0:t.amount,currency:null==(a=null==e?void 0:e.amount)?void 0:a.currency,crypto:{amount:null==(n=null==(r=null==(l=null==e?void 0:e.amount)?void 0:l.crypto)?void 0:r.USDT)?void 0:n.amount,currency:null==(i=null==(u=null==(o=null==e?void 0:e.amount)?void 0:o.crypto)?void 0:u.USDT)?void 0:i.currency}},null,8,["amount","currency","crypto"])]}),device:x(({data:e})=>{var t,a;return[f(m(D),{title:null==(t=null==e?void 0:e.device)?void 0:t.title,id:null==(a=null==e?void 0:e.device)?void 0:a.id},null,8,["title","id"])]}),payment_method:x(({data:e})=>{var t,a,l,r;return[f(m(k),{number:null==(t=null==e?void 0:e.requisite)?void 0:t.number,name:null==(a=null==e?void 0:e.requisite)?void 0:a.name,bank:null==(l=null==e?void 0:e.requisite)?void 0:l.bank,payment_method:null==(r=null==e?void 0:e.requisite)?void 0:r.payment_method},null,8,["number","name","bank","payment_method"])]}),actions:x(({data:t})=>[f(Q,{approve:e.$t("approve"),reject:e.$t("reject"),onApprove:e=>{console.log("asd")},onReject:e=>(e=>{console.log(e)})(t)},null,8,["approve","reject","onApprove","onReject"])]),date:x(({data:e})=>[f(q,{date:null==e?void 0:e.created_at,time:null==e?void 0:e.created_at},null,8,["date","time"])]),filter:x(()=>[s("div",te,[f(w,{label:e.$t("interval_of_time")},{default:x(()=>[f(t,{class:"bg-white","start-date-key":"created_at__gte","end-date-key":"created_at__lte"})]),_:1},8,["label"])])]),_:1},16,["data","head","loading","title","subtitle","total","filter"])])]))}}),[["__scopeId","data-v-d4cebe4c"]]);export{ae as default};
